"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/lib/actions/playlist.action.js":
/*!********************************************!*\
  !*** ./src/lib/actions/playlist.action.js ***!
  \********************************************/
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAddTrackToMyPlaylist: function() { return /* binding */ useAddTrackToMyPlaylist; },\n/* harmony export */   useCreateMyPlaylist: function() { return /* binding */ useCreateMyPlaylist; },\n/* harmony export */   useEditMyPlaylist: function() { return /* binding */ useEditMyPlaylist; },\n/* harmony export */   useFetchFavouritePlaylist: function() { return /* binding */ useFetchFavouritePlaylist; },\n/* harmony export */   useFetchMyPlaylist: function() { return /* binding */ useFetchMyPlaylist; },\n/* harmony export */   useFetchMyPlaylists: function() { return /* binding */ useFetchMyPlaylists; },\n/* harmony export */   useFetchRecentPlayed: function() { return /* binding */ useFetchRecentPlayed; },\n/* harmony export */   useListFavouritePlaylist: function() { return /* binding */ useListFavouritePlaylist; },\n/* harmony export */   useRemoveFavouritePlaylist: function() { return /* binding */ useRemoveFavouritePlaylist; },\n/* harmony export */   useRemoveMyPlaylist: function() { return /* binding */ useRemoveMyPlaylist; },\n/* harmony export */   useRemoveTrackFromMyPlaylist: function() { return /* binding */ useRemoveTrackFromMyPlaylist; },\n/* harmony export */   useSaveFavouritePlaylist: function() { return /* binding */ useSaveFavouritePlaylist; },\n/* harmony export */   useSaveRecentPlayed: function() { return /* binding */ useSaveRecentPlayed; }\n/* harmony export */ });\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/dist/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tanstack/react-query */ \"./node_modules/@tanstack/react-query/build/modern/index.js\");\n/* harmony import */ var _firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/firestore */ \"./node_modules/@firebase/firestore/dist/index.esm2017.js\");\n/* harmony import */ var _lib_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/store */ \"./src/lib/store.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils */ \"./src/lib/utils.js\");\n/* harmony import */ var _lib_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/helpers */ \"./src/lib/helpers.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks */ \"./src/hooks/index.js\");\n/* harmony import */ var _editorial_action__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editorial.action */ \"./src/lib/actions/editorial.action.js\");\n/* eslint-disable react-hooks/exhaustive-deps */ /* eslint-disable react-hooks/rules-of-hooks */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$(), _s10 = $RefreshSig$(), _s11 = $RefreshSig$(), _s12 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// recent played\nconst useSaveRecentPlayed = ()=>{\n    _s();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: saveRecentPlayed } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (playlist)=>{\n            if (userId) {\n                try {\n                    const recentPlayedRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"recentPlayed\",\n                        id: userId\n                    });\n                    if (recentPlayedRef.exists()) {\n                        const { playlist_ids } = recentPlayedRef.data() || {};\n                        const notInArray = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.elementInArray)(playlist_ids, playlist);\n                        if (!notInArray) {\n                            const playlistIdsData = [\n                                playlist,\n                                ...playlist_ids\n                            ].slice(0, 6);\n                            await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbUpdateDoc)({\n                                collection: \"recentPlayed\",\n                                id: userId,\n                                data: {\n                                    playlist_ids: playlistIdsData\n                                }\n                            });\n                        }\n                    } else {\n                        await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbSetDoc)({\n                            collection: \"recentPlayed\",\n                            id: userId,\n                            data: {\n                                user_id: userId,\n                                playlist_ids: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.arrayUnion)(playlist),\n                                created_at: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n                            }\n                        });\n                    }\n                } catch (error) {\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"invalid params\");\n            }\n        },\n        onSuccess: ()=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"recentPlayed\"\n                ]\n            });\n        }\n    });\n    return {\n        saveRecentPlayed\n    };\n};\n_s(useSaveRecentPlayed, \"Z0OMtHhAP/kxsKesxPRZVrQlTs8=\", false, function() {\n    return [\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\nconst useFetchRecentPlayed = ()=>{\n    _s1();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const { isPending, isSuccess, isError, isFetching, error, data } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery)({\n        queryKey: [\n            \"recentPlayed\",\n            {\n                userId: userId1\n            }\n        ],\n        queryFn: async ()=>{\n            if (userId1) {\n                try {\n                    const recentPlayedRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"recentPlayed\",\n                        id: userId1\n                    });\n                    if (recentPlayedRef.exists()) {\n                        const data = recentPlayedRef.data().playlist_ids;\n                        return await (0,_editorial_action__WEBPACK_IMPORTED_MODULE_6__.fetchMultiplePlaylists)(data);\n                    } else {\n                        return null;\n                    }\n                } catch (error) {\n                // console.log(error);\n                }\n            } else {\n                return null;\n            // throw new Error(\"Invalid userId\");\n            }\n        }\n    });\n    return {\n        isPending,\n        isSuccess,\n        isError,\n        isFetching,\n        error,\n        data\n    };\n};\n_s1(useFetchRecentPlayed, \"4lOyKRJjeHYU6OlXBQ+5LHv3laA=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery\n    ];\n});\n// fetch playlists\nconst useFetchMyPlaylists = ()=>{\n    _s2();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate)();\n    const { isPending, isSuccess, isError, isFetching, error, data } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery)({\n        queryKey: [\n            \"myPlaylists\",\n            {\n                userId: userId1,\n                navigate\n            }\n        ],\n        queryFn: async ()=>{\n            if (userId1) {\n                try {\n                    const myPlaylistsRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetCollection)({\n                        collection: \"myPlaylists\",\n                        whereQueries: [\n                            [\n                                \"user_id\",\n                                \"==\",\n                                userId1\n                            ]\n                        ],\n                        orderByQueries: [\n                            [\n                                \"created_at\",\n                                \"desc\"\n                            ]\n                        ]\n                    });\n                    return myPlaylistsRef.docs.map((i)=>{\n                        const s = i.data();\n                        return {\n                            ...s,\n                            id: i.id,\n                            created_at: s.created_at.toDate()\n                        };\n                    });\n                } catch (error) {\n                    navigate(\"/\");\n                // console.log(error);\n                }\n            } else {\n                return null;\n            // throw new Error(\"invalid params\");\n            }\n        }\n    });\n    return {\n        isPending,\n        isSuccess,\n        isError,\n        isFetching,\n        error,\n        data\n    };\n};\n_s2(useFetchMyPlaylists, \"qbC+6j7wuDz6DbKwEqphuKrSTNI=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery\n    ];\n});\n// playlist CRUD\nconst useCreateMyPlaylist = ()=>{\n    _s3();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate)();\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: createMyPlaylist, isPending: isCreating } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async ()=>{\n            if (userId1) {\n                try {\n                    const countMyPlaylist = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbCountCollection)({\n                        collection: \"myPlaylists\",\n                        whereQueries: [\n                            [\n                                \"user_id\",\n                                \"==\",\n                                userId1\n                            ]\n                        ]\n                    });\n                    const docRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbAddDoc)({\n                        collection: \"myPlaylists\",\n                        data: {\n                            user_id: userId1,\n                            desc: \"Here is an optional description\",\n                            title: \"My Playlist #\".concat(countMyPlaylist + 1),\n                            track_ids: [],\n                            image_url: null,\n                            created_at: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n                        }\n                    });\n                    navigate(\"/my-playlist/\".concat(docRef.id));\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"Request failed\"\n                    });\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"Invalid params\");\n            }\n        },\n        onSuccess: ()=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"myPlaylists\"\n                ]\n            });\n        }\n    });\n    return {\n        createMyPlaylist,\n        isCreating\n    };\n};\n_s3(useCreateMyPlaylist, \"SkWtxqx9iopboob3xnKt7Sj63bk=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\nconst useFetchMyPlaylist = (id)=>{\n    _s4();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate)();\n    const { isPending, isSuccess, isError, isFetching, error, data } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery)({\n        queryKey: [\n            \"singleMyPlaylist_\".concat(id),\n            {\n                userId: userId1,\n                id\n            }\n        ],\n        queryFn: async ()=>{\n            if (userId1) {\n                try {\n                    const singlePlaylist = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"myPlaylists\",\n                        id\n                    });\n                    const { track_ids } = singlePlaylist.data() || {};\n                    let playlistDetails = singlePlaylist.data();\n                    playlistDetails = {\n                        ...playlistDetails,\n                        id: singlePlaylist.id,\n                        created_at: playlistDetails.created_at.toDate()\n                    };\n                    if (track_ids === null || track_ids === void 0 ? void 0 : track_ids.length) {\n                        const tracks = await (0,_editorial_action__WEBPACK_IMPORTED_MODULE_6__.fetchMultiplePlaylists)(track_ids);\n                        return {\n                            playlistDetails,\n                            playlistTracks: tracks\n                        };\n                    } else {\n                        return {\n                            playlistDetails,\n                            playlistTracks: []\n                        };\n                    }\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"Request failed\"\n                    });\n                    navigate(\"/\");\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"Invalid params\");\n            }\n        }\n    });\n    return {\n        isPending,\n        isSuccess,\n        isError,\n        isFetching,\n        error,\n        data\n    };\n};\n_s4(useFetchMyPlaylist, \"z1nDr6KPrUKEQaULub/j6jns7EQ=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery\n    ];\n});\nconst useEditMyPlaylist = ()=>{\n    _s5();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: editMyPlaylist, isPending: isEditing, isSuccess: isEdited } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (values)=>{\n            const { id, title, desc, files, imagePath } = values;\n            if (userId1) {\n                try {\n                    let imageUrl = null;\n                    let pathUrl = null;\n                    if (files) {\n                        pathUrl = imagePath || (0,uuid__WEBPACK_IMPORTED_MODULE_9__.v4)();\n                        imageUrl = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.uploadImage)({\n                            imageFile: files[0],\n                            storagePath: \"myPlaylists/\".concat(pathUrl),\n                            fileName: \"image.jpg\"\n                        });\n                    }\n                    await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbUpdateDoc)({\n                        data: {\n                            title,\n                            desc,\n                            ...files ? {\n                                image_url: imageUrl,\n                                image_path: pathUrl\n                            } : {}\n                        },\n                        collection: \"myPlaylists\",\n                        id\n                    });\n                    notify({\n                        title: \"Success\",\n                        variant: \"success\",\n                        description: \"Details successfully edited\"\n                    });\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"Request failed\"\n                    });\n                }\n            } else {\n                throw new Error(\"invalid params\");\n            }\n        },\n        onSuccess: (_, variables)=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"singleMyPlaylist_\".concat(variables === null || variables === void 0 ? void 0 : variables.id)\n                ]\n            });\n        }\n    });\n    return {\n        editMyPlaylist,\n        isEditing,\n        isEdited\n    };\n};\n_s5(useEditMyPlaylist, \"MnF8UeuZXhysTWWF2N5ql2kmaAI=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\nconst useRemoveMyPlaylist = ()=>{\n    _s6();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate)();\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: deleteMyPlaylist, isPending: isRemoving } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (id)=>{\n            if (userId1) {\n                try {\n                    var _playlist_data;\n                    const playlist = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"myPlaylists\",\n                        id\n                    });\n                    const filePath = playlist === null || playlist === void 0 ? void 0 : (_playlist_data = playlist.data()) === null || _playlist_data === void 0 ? void 0 : _playlist_data.image_path;\n                    await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbDeleteDoc)({\n                        collection: \"myPlaylists\",\n                        id\n                    });\n                    if (filePath) {\n                        await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbDeleteStorage)(\"myPlaylists/\".concat(filePath, \"/image.jpg\"));\n                    }\n                    navigate(\"/my-playlist\");\n                    notify({\n                        title: \"Success\",\n                        variant: \"success\",\n                        description: \"Deleted from playlist\"\n                    });\n                    return null;\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"An error occurred while deleting\"\n                    });\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"invalid error\");\n            }\n        },\n        onSuccess: ()=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"myPlaylists\"\n                ]\n            });\n        }\n    });\n    return {\n        deleteMyPlaylist,\n        isRemoving\n    };\n};\n_s6(useRemoveMyPlaylist, \"0s+j/ysmABKpQ39JXU44kBOMxEk=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        react_router_dom__WEBPACK_IMPORTED_MODULE_8__.useNavigate,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\n// add/remove tracks to/from a playlist\nconst useAddTrackToMyPlaylist = ()=>{\n    _s7();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: createMyPlaylist, isPending: isCreating } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (param)=>{\n            let { trackD, id, imageUrl } = param;\n            if (userId1) {\n                try {\n                    const addTrackRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"myPlaylists\",\n                        id\n                    });\n                    if (addTrackRef.exists()) {\n                        const { track_ids, image_url } = addTrackRef.data();\n                        const notInArray = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.elementInArray)(track_ids, trackD);\n                        if (!notInArray) {\n                            const trackIdsData = [\n                                trackD,\n                                ...track_ids\n                            ].slice(0, 10);\n                            await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbUpdateDoc)({\n                                data: {\n                                    track_ids: trackIdsData,\n                                    image_url: image_url || imageUrl\n                                },\n                                collection: \"myPlaylists\",\n                                id\n                            });\n                            notify({\n                                title: \"Success\",\n                                variant: \"success\",\n                                description: \"Added to playlist\"\n                            });\n                        }\n                    }\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"An error occurred while adding\"\n                    });\n                // console.log(error);\n                }\n            }\n        },\n        onSuccess: (_, variables)=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"singleMyPlaylist_\".concat(variables.id)\n                ]\n            });\n        }\n    });\n    return {\n        createMyPlaylist,\n        isCreating\n    };\n};\n_s7(useAddTrackToMyPlaylist, \"EERodkJi/2kjAbV4zm5S+md54Y8=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\nconst useRemoveTrackFromMyPlaylist = ()=>{\n    _s8();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: deleteTrackFromMyPlaylist, isPending: isRemoving } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (param)=>{\n            let { trackD, id } = param;\n            if (userId1) {\n                try {\n                    await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbUpdateDoc)({\n                        data: {\n                            track_ids: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.arrayRemove)(trackD)\n                        },\n                        collection: \"myPlaylists\",\n                        id\n                    });\n                    notify({\n                        title: \"Success\",\n                        variant: \"success\",\n                        description: \"Deleted from playlist\"\n                    });\n                    return null;\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"An error occurred while deleting\"\n                    });\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"Invalid params\");\n            }\n        },\n        onSuccess: (_, variables)=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"singleMyPlaylist_\".concat(variables.id)\n                ]\n            });\n        }\n    });\n    return {\n        deleteTrackFromMyPlaylist,\n        isRemoving\n    };\n};\n_s8(useRemoveTrackFromMyPlaylist, \"uj/JmGvXmJw/LUdvyQLawvRX73w=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\n// favourites playlists CRUD\nconst useSaveFavouritePlaylist = ()=>{\n    _s9();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const { mutate: saveFavouritePlaylist } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (playlist)=>{\n            if (userId1) {\n                try {\n                    const favouritePlaylistsRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"favouritePlaylists\",\n                        id: userId1\n                    });\n                    if (favouritePlaylistsRef.exists()) {\n                        const { playlist_ids } = favouritePlaylistsRef.data() || {};\n                        const notInArray = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.elementInArray)(playlist_ids, playlist);\n                        if (!notInArray) {\n                            const playlistIdsData = [\n                                playlist,\n                                ...playlist_ids\n                            ].slice(0, 10);\n                            await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbUpdateDoc)({\n                                collection: \"favouritePlaylists\",\n                                id: userId1,\n                                data: {\n                                    playlist_ids: playlistIdsData\n                                }\n                            });\n                        }\n                    } else {\n                        await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbSetDoc)({\n                            collection: \"favouritePlaylists\",\n                            id: userId1,\n                            data: {\n                                user_id: userId1,\n                                playlist_ids: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.arrayUnion)(playlist),\n                                created_at: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n                            }\n                        });\n                    }\n                    notify({\n                        title: \"Success\",\n                        variant: \"success\",\n                        description: \"Favourite playlist added\"\n                    });\n                } catch (error) {\n                // console.log(error);\n                }\n            }\n        },\n        onSuccess: ()=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"listFavouritePlaylists\"\n                ]\n            });\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"favouritePlaylists\"\n                ]\n            });\n        }\n    });\n    return {\n        saveFavouritePlaylist\n    };\n};\n_s9(useSaveFavouritePlaylist, \"7mzlyLG+5Ka47Dsb2hyQZZ8LTkc=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\nconst useFetchFavouritePlaylist = ()=>{\n    _s10();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const { isPending, isSuccess, isError, isFetching, error, data } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery)({\n        queryKey: [\n            \"favouritePlaylists\",\n            {\n                userId: userId1\n            }\n        ],\n        queryFn: async ()=>{\n            if (userId1) {\n                try {\n                    const favPlaylistsRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"favouritePlaylists\",\n                        id: userId1\n                    });\n                    const { playlist_ids } = (favPlaylistsRef === null || favPlaylistsRef === void 0 ? void 0 : favPlaylistsRef.data()) || {};\n                    if (favPlaylistsRef.exists() && (playlist_ids === null || playlist_ids === void 0 ? void 0 : playlist_ids.length)) {\n                        return await (0,_editorial_action__WEBPACK_IMPORTED_MODULE_6__.fetchMultiplePlaylists)(playlist_ids);\n                    } else {\n                        return null;\n                    }\n                } catch (error) {\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"Invalid userId\");\n            }\n        }\n    });\n    return {\n        isPending,\n        isSuccess,\n        isError,\n        isFetching,\n        error,\n        data\n    };\n};\n_s10(useFetchFavouritePlaylist, \"4lOyKRJjeHYU6OlXBQ+5LHv3laA=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery\n    ];\n});\nconst useListFavouritePlaylist = ()=>{\n    _s11();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const { isPending, isSuccess, isError, isFetching, error, data } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery)({\n        queryKey: [\n            \"listFavouritePlaylists\",\n            {\n                userId: userId1\n            }\n        ],\n        queryFn: async ()=>{\n            if (userId1) {\n                try {\n                    const favPlaylistsRef = await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbGetDoc)({\n                        collection: \"favouritePlaylists\",\n                        id: userId1\n                    });\n                    const id = favPlaylistsRef === null || favPlaylistsRef === void 0 ? void 0 : favPlaylistsRef.id;\n                    const { playlist_ids } = (favPlaylistsRef === null || favPlaylistsRef === void 0 ? void 0 : favPlaylistsRef.data()) || {};\n                    const favouriteplaylistList = playlist_ids === null || playlist_ids === void 0 ? void 0 : playlist_ids.reduce((acc, item)=>{\n                        acc.push(Object.keys(item)[0]);\n                        return acc;\n                    }, []);\n                    return {\n                        favouriteplaylistList,\n                        favouriteplaylistId: id\n                    };\n                } catch (error) {\n                // console.log(error);\n                }\n            } else {\n                throw new Error(\"Invalid userId\");\n            }\n        }\n    });\n    return {\n        isPending,\n        isSuccess,\n        isError,\n        isFetching,\n        error,\n        data\n    };\n};\n_s11(useListFavouritePlaylist, \"4lOyKRJjeHYU6OlXBQ+5LHv3laA=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQuery\n    ];\n});\nconst useRemoveFavouritePlaylist = ()=>{\n    _s12();\n    const { currentUser } = (0,_lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser)();\n    const { userId: userId1 } = currentUser || {};\n    const [notify] = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification)();\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient)();\n    const { mutate: removeFavouritePlaylist } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation)({\n        mutationFn: async (params)=>{\n            const { playlistD, id } = params;\n            if (userId1) {\n                try {\n                    await (0,_lib_helpers__WEBPACK_IMPORTED_MODULE_3__.fbUpdateDoc)({\n                        data: {\n                            playlist_ids: (0,_firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.arrayRemove)(playlistD)\n                        },\n                        collection: \"favouritePlaylists\",\n                        id\n                    });\n                    notify({\n                        title: \"Success\",\n                        variant: \"success\",\n                        description: \"Favourite playlist removed\"\n                    });\n                } catch (error) {\n                    notify({\n                        title: \"Error\",\n                        variant: \"error\",\n                        description: \"An error occurred while deleting\"\n                    });\n                // console.log(error)\n                }\n            }\n        },\n        onSuccess: ()=>{\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"listFavouritePlaylists\"\n                ]\n            });\n            queryClient.invalidateQueries({\n                queryKey: [\n                    \"favouritePlaylists\"\n                ]\n            });\n        }\n    });\n    return {\n        removeFavouritePlaylist\n    };\n};\n_s12(useRemoveFavouritePlaylist, \"Dny8in924+/X5c1GLAxlXqpMgg4=\", false, function() {\n    return [\n        _lib_store__WEBPACK_IMPORTED_MODULE_1__.useCurrentUser,\n        _hooks__WEBPACK_IMPORTED_MODULE_5__.useNotification,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useQueryClient,\n        _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.useMutation\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQUU0RTtJQUF3QjtBQUNuQyxFQUFFO0tBL0NXRDs7UUFDYS9HLHNEQUFjQTtRQUdyQlksbURBQWVBO1FBRVpoQixpRUFBY0E7UUFFVUYsOERBQVdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvYWN0aW9ucy9wbGF5bGlzdC5hY3Rpb24uanM/ZjE5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgKi9cclxuLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3MgKi9cclxuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnksIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiO1xyXG5pbXBvcnQgeyBhcnJheVJlbW92ZSwgYXJyYXlVbmlvbiwgc2VydmVyVGltZXN0YW1wIH0gZnJvbSBcIkBmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuXHJcbmltcG9ydCB7IHVzZUN1cnJlbnRVc2VyIH0gZnJvbSBcIi4uLy4uL2xpYi9zdG9yZVwiO1xyXG5pbXBvcnQgeyBlbGVtZW50SW5BcnJheSB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHNcIjtcclxuaW1wb3J0IHtcclxuICBmYlNldERvYyxcclxuICBmYkFkZERvYyxcclxuICBmYkdldERvYyxcclxuICBmYlVwZGF0ZURvYyxcclxuICBmYkRlbGV0ZURvYyxcclxuICBmYkdldENvbGxlY3Rpb24sXHJcbiAgZmJDb3VudENvbGxlY3Rpb24sXHJcbiAgdXBsb2FkSW1hZ2UsXHJcbiAgZmJEZWxldGVTdG9yYWdlLFxyXG59IGZyb20gXCIuLi8uLi9saWIvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XHJcbmltcG9ydCB7IHVzZU5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi8uLi9ob29rc1wiO1xyXG5cclxuaW1wb3J0IHsgZmV0Y2hNdWx0aXBsZVBsYXlsaXN0cyB9IGZyb20gXCIuL2VkaXRvcmlhbC5hY3Rpb25cIjtcclxuXHJcbi8vIHJlY2VudCBwbGF5ZWRcclxuZXhwb3J0IGNvbnN0IHVzZVNhdmVSZWNlbnRQbGF5ZWQgPSAoKSA9PiB7XHJcblxyXG5cclxuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XHJcblxyXG4gIGNvbnN0IHsgbXV0YXRlOiBzYXZlUmVjZW50UGxheWVkIH0gPSB1c2VNdXRhdGlvbih7XHJcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAocGxheWxpc3QpID0+IHtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCByZWNlbnRQbGF5ZWRSZWYgPSBhd2FpdCBmYkdldERvYyh7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IFwicmVjZW50UGxheWVkXCIsXHJcbiAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAocmVjZW50UGxheWVkUmVmLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGxheWxpc3RfaWRzIH0gPSByZWNlbnRQbGF5ZWRSZWYuZGF0YSgpIHx8IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBub3RJbkFycmF5ID0gZWxlbWVudEluQXJyYXkocGxheWxpc3RfaWRzLCBwbGF5bGlzdCk7XHJcbiAgICAgICAgICAgIGlmICghbm90SW5BcnJheSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHBsYXlsaXN0SWRzRGF0YSA9IFtwbGF5bGlzdCwgLi4ucGxheWxpc3RfaWRzXS5zbGljZSgwLCA2KTtcclxuXHJcbiAgICAgICAgICAgICAgYXdhaXQgZmJVcGRhdGVEb2Moe1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogXCJyZWNlbnRQbGF5ZWRcIixcclxuICAgICAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgIHBsYXlsaXN0X2lkczogcGxheWxpc3RJZHNEYXRhLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXdhaXQgZmJTZXREb2Moe1xyXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb246IFwicmVjZW50UGxheWVkXCIsXHJcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICBwbGF5bGlzdF9pZHM6IGFycmF5VW5pb24ocGxheWxpc3QpLFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXJhbXNcIik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcclxuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogW1wicmVjZW50UGxheWVkXCJdIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHNhdmVSZWNlbnRQbGF5ZWQsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VGZXRjaFJlY2VudFBsYXllZCA9ICgpID0+IHtcclxuICBjb25zdCB7IGN1cnJlbnRVc2VyIH0gPSB1c2VDdXJyZW50VXNlcigpO1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBjdXJyZW50VXNlciB8fCB7fTtcclxuXHJcbiAgY29uc3QgeyBpc1BlbmRpbmcsIGlzU3VjY2VzcywgaXNFcnJvciwgaXNGZXRjaGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KHtcclxuICAgIHF1ZXJ5S2V5OiBbXCJyZWNlbnRQbGF5ZWRcIiwgeyB1c2VySWQgfV0sXHJcbiAgICBxdWVyeUZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgcmVjZW50UGxheWVkUmVmID0gYXdhaXQgZmJHZXREb2Moe1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBcInJlY2VudFBsYXllZFwiLFxyXG4gICAgICAgICAgICBpZDogdXNlcklkLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHJlY2VudFBsYXllZFJlZi5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVjZW50UGxheWVkUmVmLmRhdGEoKS5wbGF5bGlzdF9pZHM7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBmZXRjaE11bHRpcGxlUGxheWxpc3RzKGRhdGEpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1c2VySWRcIik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IGlzUGVuZGluZywgaXNTdWNjZXNzLCBpc0Vycm9yLCBpc0ZldGNoaW5nLCBlcnJvciwgZGF0YSB9O1xyXG59O1xyXG5cclxuLy8gZmV0Y2ggcGxheWxpc3RzXHJcblxyXG5leHBvcnQgY29uc3QgdXNlRmV0Y2hNeVBsYXlsaXN0cyA9ICgpID0+IHtcclxuICBjb25zdCB7IGN1cnJlbnRVc2VyIH0gPSB1c2VDdXJyZW50VXNlcigpO1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBjdXJyZW50VXNlciB8fCB7fTtcclxuXHJcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xyXG5cclxuICBjb25zdCB7IGlzUGVuZGluZywgaXNTdWNjZXNzLCBpc0Vycm9yLCBpc0ZldGNoaW5nLCBlcnJvciwgZGF0YSB9ID0gdXNlUXVlcnkoe1xyXG4gICAgcXVlcnlLZXk6IFtcIm15UGxheWxpc3RzXCIsIHsgdXNlcklkLCBuYXZpZ2F0ZSB9XSxcclxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBteVBsYXlsaXN0c1JlZiA9IGF3YWl0IGZiR2V0Q29sbGVjdGlvbih7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IFwibXlQbGF5bGlzdHNcIixcclxuICAgICAgICAgICAgd2hlcmVRdWVyaWVzOiBbW1widXNlcl9pZFwiLCBcIj09XCIsIHVzZXJJZF1dLFxyXG4gICAgICAgICAgICBvcmRlckJ5UXVlcmllczogW1tcImNyZWF0ZWRfYXRcIiwgXCJkZXNjXCJdXSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBteVBsYXlsaXN0c1JlZi5kb2NzLm1hcCgoaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzID0gaS5kYXRhKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnMsIGlkOiBpLmlkLCBjcmVhdGVkX2F0OiBzLmNyZWF0ZWRfYXQudG9EYXRlKCkgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBuYXZpZ2F0ZShcIi9cIik7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGFyYW1zXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4geyBpc1BlbmRpbmcsIGlzU3VjY2VzcywgaXNFcnJvciwgaXNGZXRjaGluZywgZXJyb3IsIGRhdGEgfTtcclxufTtcclxuXHJcbi8vIHBsYXlsaXN0IENSVURcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VDcmVhdGVNeVBsYXlsaXN0ID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgY3VycmVudFVzZXIgfSA9IHVzZUN1cnJlbnRVc2VyKCk7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IGN1cnJlbnRVc2VyIHx8IHt9O1xyXG5cclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcbiAgY29uc3QgW25vdGlmeV0gPSB1c2VOb3RpZmljYXRpb24oKTtcclxuXHJcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xyXG5cclxuICBjb25zdCB7IG11dGF0ZTogY3JlYXRlTXlQbGF5bGlzdCwgaXNQZW5kaW5nOiBpc0NyZWF0aW5nIH0gPSB1c2VNdXRhdGlvbih7XHJcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgY291bnRNeVBsYXlsaXN0ID0gYXdhaXQgZmJDb3VudENvbGxlY3Rpb24oe1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBcIm15UGxheWxpc3RzXCIsXHJcbiAgICAgICAgICAgIHdoZXJlUXVlcmllczogW1tcInVzZXJfaWRcIiwgXCI9PVwiLCB1c2VySWRdXSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGZiQWRkRG9jKHtcclxuICAgICAgICAgICAgY29sbGVjdGlvbjogXCJteVBsYXlsaXN0c1wiLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgICAgIGRlc2M6IFwiSGVyZSBpcyBhbiBvcHRpb25hbCBkZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBgTXkgUGxheWxpc3QgIyR7Y291bnRNeVBsYXlsaXN0ICsgMX1gLFxyXG4gICAgICAgICAgICAgIHRyYWNrX2lkczogW10sXHJcbiAgICAgICAgICAgICAgaW1hZ2VfdXJsOiBudWxsLFxyXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgbmF2aWdhdGUoYC9teS1wbGF5bGlzdC8ke2RvY1JlZi5pZH1gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgbm90aWZ5KHtcclxuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJSZXF1ZXN0IGZhaWxlZFwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1zXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgb25TdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFtcIm15UGxheWxpc3RzXCJdIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNyZWF0ZU15UGxheWxpc3QsXHJcbiAgICBpc0NyZWF0aW5nLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlRmV0Y2hNeVBsYXlsaXN0ID0gKGlkKSA9PiB7XHJcbiAgY29uc3QgeyBjdXJyZW50VXNlciB9ID0gdXNlQ3VycmVudFVzZXIoKTtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gY3VycmVudFVzZXIgfHwge307XHJcblxyXG4gIGNvbnN0IFtub3RpZnldID0gdXNlTm90aWZpY2F0aW9uKCk7XHJcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xyXG5cclxuICBjb25zdCB7IGlzUGVuZGluZywgaXNTdWNjZXNzLCBpc0Vycm9yLCBpc0ZldGNoaW5nLCBlcnJvciwgZGF0YSB9ID0gdXNlUXVlcnkoe1xyXG4gICAgcXVlcnlLZXk6IFtgc2luZ2xlTXlQbGF5bGlzdF8ke2lkfWAsIHsgdXNlcklkLCBpZCB9XSxcclxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBzaW5nbGVQbGF5bGlzdCA9IGF3YWl0IGZiR2V0RG9jKHtcclxuICAgICAgICAgICAgY29sbGVjdGlvbjogXCJteVBsYXlsaXN0c1wiLFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHsgdHJhY2tfaWRzIH0gPSBzaW5nbGVQbGF5bGlzdC5kYXRhKCkgfHwge307XHJcblxyXG4gICAgICAgICAgbGV0IHBsYXlsaXN0RGV0YWlscyA9IHNpbmdsZVBsYXlsaXN0LmRhdGEoKTtcclxuXHJcbiAgICAgICAgICBwbGF5bGlzdERldGFpbHMgPSB7XHJcbiAgICAgICAgICAgIC4uLnBsYXlsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgaWQ6IHNpbmdsZVBsYXlsaXN0LmlkLFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBwbGF5bGlzdERldGFpbHMuY3JlYXRlZF9hdC50b0RhdGUoKSxcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKHRyYWNrX2lkcz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrcyA9IGF3YWl0IGZldGNoTXVsdGlwbGVQbGF5bGlzdHModHJhY2tfaWRzKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcGxheWxpc3REZXRhaWxzLFxyXG4gICAgICAgICAgICAgIHBsYXlsaXN0VHJhY2tzOiB0cmFja3MsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHBsYXlsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICBwbGF5bGlzdFRyYWNrczogW10sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwiZXJyb3JcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiUmVxdWVzdCBmYWlsZWRcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbmF2aWdhdGUoXCIvXCIpO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtc1wiKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHsgaXNQZW5kaW5nLCBpc1N1Y2Nlc3MsIGlzRXJyb3IsIGlzRmV0Y2hpbmcsIGVycm9yLCBkYXRhIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlRWRpdE15UGxheWxpc3QgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBjdXJyZW50VXNlciB9ID0gdXNlQ3VycmVudFVzZXIoKTtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gY3VycmVudFVzZXIgfHwge307XHJcblxyXG4gIGNvbnN0IFtub3RpZnldID0gdXNlTm90aWZpY2F0aW9uKCk7XHJcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBtdXRhdGU6IGVkaXRNeVBsYXlsaXN0LFxyXG4gICAgaXNQZW5kaW5nOiBpc0VkaXRpbmcsXHJcbiAgICBpc1N1Y2Nlc3M6IGlzRWRpdGVkLFxyXG4gIH0gPSB1c2VNdXRhdGlvbih7XHJcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAodmFsdWVzKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgaWQsIHRpdGxlLCBkZXNjLCBmaWxlcywgaW1hZ2VQYXRoIH0gPSB2YWx1ZXM7XHJcblxyXG4gICAgICBpZiAodXNlcklkKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGxldCBpbWFnZVVybCA9IG51bGw7XHJcbiAgICAgICAgICBsZXQgcGF0aFVybCA9IG51bGw7XHJcbiAgICAgICAgICBpZiAoZmlsZXMpIHtcclxuICAgICAgICAgICAgcGF0aFVybCA9IGltYWdlUGF0aCB8fCB1dWlkdjQoKTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlVXJsID0gYXdhaXQgdXBsb2FkSW1hZ2Uoe1xyXG4gICAgICAgICAgICAgIGltYWdlRmlsZTogZmlsZXNbMF0sXHJcbiAgICAgICAgICAgICAgc3RvcmFnZVBhdGg6IGBteVBsYXlsaXN0cy8ke3BhdGhVcmx9YCxcclxuICAgICAgICAgICAgICBmaWxlTmFtZTogXCJpbWFnZS5qcGdcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXdhaXQgZmJVcGRhdGVEb2Moe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgICAgZGVzYyxcclxuICAgICAgICAgICAgICAuLi4oZmlsZXMgPyB7IGltYWdlX3VybDogaW1hZ2VVcmwsIGltYWdlX3BhdGg6IHBhdGhVcmwgfSA6IHt9KSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29sbGVjdGlvbjogXCJteVBsYXlsaXN0c1wiLFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIlN1Y2Nlc3NcIixcclxuICAgICAgICAgICAgdmFyaWFudDogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkRldGFpbHMgc3VjY2Vzc2Z1bGx5IGVkaXRlZFwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwiZXJyb3JcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiUmVxdWVzdCBmYWlsZWRcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBhcmFtc1wiKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uU3VjY2VzczogKF8sIHZhcmlhYmxlcykgPT4ge1xyXG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7XHJcbiAgICAgICAgcXVlcnlLZXk6IFtgc2luZ2xlTXlQbGF5bGlzdF8ke3ZhcmlhYmxlcz8uaWR9YF0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGVkaXRNeVBsYXlsaXN0LFxyXG4gICAgaXNFZGl0aW5nLFxyXG4gICAgaXNFZGl0ZWQsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VSZW1vdmVNeVBsYXlsaXN0ID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgY3VycmVudFVzZXIgfSA9IHVzZUN1cnJlbnRVc2VyKCk7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IGN1cnJlbnRVc2VyIHx8IHt9O1xyXG5cclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcbiAgY29uc3QgW25vdGlmeV0gPSB1c2VOb3RpZmljYXRpb24oKTtcclxuXHJcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xyXG5cclxuICBjb25zdCB7IG11dGF0ZTogZGVsZXRlTXlQbGF5bGlzdCwgaXNQZW5kaW5nOiBpc1JlbW92aW5nIH0gPSB1c2VNdXRhdGlvbih7XHJcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAoaWQpID0+IHtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBwbGF5bGlzdCA9IGF3YWl0IGZiR2V0RG9jKHsgY29sbGVjdGlvbjogXCJteVBsYXlsaXN0c1wiLCBpZCB9KTtcclxuXHJcbiAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHBsYXlsaXN0Py5kYXRhKCk/LmltYWdlX3BhdGg7XHJcbiAgICAgICAgICBhd2FpdCBmYkRlbGV0ZURvYyh7IGNvbGxlY3Rpb246IFwibXlQbGF5bGlzdHNcIiwgaWQgfSk7XHJcbiAgICAgICAgICBpZiAoZmlsZVBhdGgpIHtcclxuICAgICAgICAgICAgYXdhaXQgZmJEZWxldGVTdG9yYWdlKGBteVBsYXlsaXN0cy8ke2ZpbGVQYXRofS9pbWFnZS5qcGdgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBuYXZpZ2F0ZShcIi9teS1wbGF5bGlzdFwiKTtcclxuXHJcbiAgICAgICAgICBub3RpZnkoe1xyXG4gICAgICAgICAgICB0aXRsZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJEZWxldGVkIGZyb20gcGxheWxpc3RcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXHJcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwiZXJyb3JcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVsZXRpbmdcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGVycm9yXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgb25TdWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFtgbXlQbGF5bGlzdHNgXSB9KTtcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkZWxldGVNeVBsYXlsaXN0LFxyXG4gICAgaXNSZW1vdmluZyxcclxuICB9O1xyXG59O1xyXG5cclxuLy8gYWRkL3JlbW92ZSB0cmFja3MgdG8vZnJvbSBhIHBsYXlsaXN0XHJcblxyXG5leHBvcnQgY29uc3QgdXNlQWRkVHJhY2tUb015UGxheWxpc3QgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBjdXJyZW50VXNlciB9ID0gdXNlQ3VycmVudFVzZXIoKTtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gY3VycmVudFVzZXIgfHwge307XHJcblxyXG4gIGNvbnN0IFtub3RpZnldID0gdXNlTm90aWZpY2F0aW9uKCk7XHJcblxyXG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoKTtcclxuXHJcbiAgY29uc3QgeyBtdXRhdGU6IGNyZWF0ZU15UGxheWxpc3QsIGlzUGVuZGluZzogaXNDcmVhdGluZyB9ID0gdXNlTXV0YXRpb24oe1xyXG4gICAgbXV0YXRpb25GbjogYXN5bmMgKHsgdHJhY2tELCBpZCwgaW1hZ2VVcmwgfSkgPT4ge1xyXG4gICAgICBpZiAodXNlcklkKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGFkZFRyYWNrUmVmID0gYXdhaXQgZmJHZXREb2Moe1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBcIm15UGxheWxpc3RzXCIsXHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGFkZFRyYWNrUmVmLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdHJhY2tfaWRzLCBpbWFnZV91cmwgfSA9IGFkZFRyYWNrUmVmLmRhdGEoKTtcclxuICAgICAgICAgICAgY29uc3Qgbm90SW5BcnJheSA9IGVsZW1lbnRJbkFycmF5KHRyYWNrX2lkcywgdHJhY2tEKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbm90SW5BcnJheSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRyYWNrSWRzRGF0YSA9IFt0cmFja0QsIC4uLnRyYWNrX2lkc10uc2xpY2UoMCwgMTApO1xyXG4gICAgICAgICAgICAgIGF3YWl0IGZiVXBkYXRlRG9jKHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgdHJhY2tfaWRzOiB0cmFja0lkc0RhdGEsXHJcbiAgICAgICAgICAgICAgICAgIGltYWdlX3VybDogaW1hZ2VfdXJsIHx8IGltYWdlVXJsLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IFwibXlQbGF5bGlzdHNcIixcclxuICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgICB2YXJpYW50OiBcInN1Y2Nlc3NcIixcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkFkZGVkIHRvIHBsYXlsaXN0XCIsXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgbm90aWZ5KHtcclxuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBhZGRpbmdcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uU3VjY2VzczogKF8sIHZhcmlhYmxlcykgPT4ge1xyXG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7XHJcbiAgICAgICAgcXVlcnlLZXk6IFtgc2luZ2xlTXlQbGF5bGlzdF8ke3ZhcmlhYmxlcy5pZH1gXSxcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY3JlYXRlTXlQbGF5bGlzdCxcclxuICAgIGlzQ3JlYXRpbmcsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VSZW1vdmVUcmFja0Zyb21NeVBsYXlsaXN0ID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgY3VycmVudFVzZXIgfSA9IHVzZUN1cnJlbnRVc2VyKCk7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IGN1cnJlbnRVc2VyIHx8IHt9O1xyXG5cclxuICBjb25zdCBbbm90aWZ5XSA9IHVzZU5vdGlmaWNhdGlvbigpO1xyXG5cclxuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XHJcblxyXG4gIGNvbnN0IHsgbXV0YXRlOiBkZWxldGVUcmFja0Zyb21NeVBsYXlsaXN0LCBpc1BlbmRpbmc6IGlzUmVtb3ZpbmcgfSA9XHJcbiAgICB1c2VNdXRhdGlvbih7XHJcbiAgICAgIG11dGF0aW9uRm46IGFzeW5jICh7IHRyYWNrRCwgaWQgfSkgPT4ge1xyXG4gICAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZiVXBkYXRlRG9jKHtcclxuICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB0cmFja19pZHM6IGFycmF5UmVtb3ZlKHRyYWNrRCksXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBcIm15UGxheWxpc3RzXCIsXHJcbiAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbm90aWZ5KHtcclxuICAgICAgICAgICAgICB0aXRsZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgdmFyaWFudDogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRGVsZXRlZCBmcm9tIHBsYXlsaXN0XCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgICB2YXJpYW50OiBcImVycm9yXCIsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVsZXRpbmdcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbXNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBvblN1Y2Nlc3M6IChfLCB2YXJpYWJsZXMpID0+IHtcclxuICAgICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7XHJcbiAgICAgICAgICBxdWVyeUtleTogW2BzaW5nbGVNeVBsYXlsaXN0XyR7dmFyaWFibGVzLmlkfWBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkZWxldGVUcmFja0Zyb21NeVBsYXlsaXN0LFxyXG4gICAgaXNSZW1vdmluZyxcclxuICB9O1xyXG59O1xyXG5cclxuLy8gZmF2b3VyaXRlcyBwbGF5bGlzdHMgQ1JVRFxyXG5cclxuZXhwb3J0IGNvbnN0IHVzZVNhdmVGYXZvdXJpdGVQbGF5bGlzdCA9ICgpID0+IHtcclxuICBjb25zdCB7IGN1cnJlbnRVc2VyIH0gPSB1c2VDdXJyZW50VXNlcigpO1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBjdXJyZW50VXNlciB8fCB7fTtcclxuXHJcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xyXG5cclxuICBjb25zdCBbbm90aWZ5XSA9IHVzZU5vdGlmaWNhdGlvbigpO1xyXG5cclxuICBjb25zdCB7IG11dGF0ZTogc2F2ZUZhdm91cml0ZVBsYXlsaXN0IH0gPSB1c2VNdXRhdGlvbih7XHJcbiAgICBtdXRhdGlvbkZuOiBhc3luYyAocGxheWxpc3QpID0+IHtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBmYXZvdXJpdGVQbGF5bGlzdHNSZWYgPSBhd2FpdCBmYkdldERvYyh7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IFwiZmF2b3VyaXRlUGxheWxpc3RzXCIsXHJcbiAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoZmF2b3VyaXRlUGxheWxpc3RzUmVmLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGxheWxpc3RfaWRzIH0gPSBmYXZvdXJpdGVQbGF5bGlzdHNSZWYuZGF0YSgpIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm90SW5BcnJheSA9IGVsZW1lbnRJbkFycmF5KHBsYXlsaXN0X2lkcywgcGxheWxpc3QpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFub3RJbkFycmF5KSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcGxheWxpc3RJZHNEYXRhID0gW3BsYXlsaXN0LCAuLi5wbGF5bGlzdF9pZHNdLnNsaWNlKDAsIDEwKTtcclxuXHJcbiAgICAgICAgICAgICAgYXdhaXQgZmJVcGRhdGVEb2Moe1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogXCJmYXZvdXJpdGVQbGF5bGlzdHNcIixcclxuICAgICAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgIHBsYXlsaXN0X2lkczogcGxheWxpc3RJZHNEYXRhLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXdhaXQgZmJTZXREb2Moe1xyXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb246IFwiZmF2b3VyaXRlUGxheWxpc3RzXCIsXHJcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgICBwbGF5bGlzdF9pZHM6IGFycmF5VW5pb24ocGxheWxpc3QpLFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbm90aWZ5KHtcclxuICAgICAgICAgICAgdGl0bGU6IFwiU3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICB2YXJpYW50OiBcInN1Y2Nlc3NcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRmF2b3VyaXRlIHBsYXlsaXN0IGFkZGVkXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xyXG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7XHJcbiAgICAgICAgcXVlcnlLZXk6IFtcImxpc3RGYXZvdXJpdGVQbGF5bGlzdHNcIl0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7XHJcbiAgICAgICAgcXVlcnlLZXk6IFtcImZhdm91cml0ZVBsYXlsaXN0c1wiXSxcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2F2ZUZhdm91cml0ZVBsYXlsaXN0LFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlRmV0Y2hGYXZvdXJpdGVQbGF5bGlzdCA9ICgpID0+IHtcclxuICBjb25zdCB7IGN1cnJlbnRVc2VyIH0gPSB1c2VDdXJyZW50VXNlcigpO1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBjdXJyZW50VXNlciB8fCB7fTtcclxuXHJcbiAgY29uc3QgeyBpc1BlbmRpbmcsIGlzU3VjY2VzcywgaXNFcnJvciwgaXNGZXRjaGluZywgZXJyb3IsIGRhdGEgfSA9IHVzZVF1ZXJ5KHtcclxuICAgIHF1ZXJ5S2V5OiBbXCJmYXZvdXJpdGVQbGF5bGlzdHNcIiwgeyB1c2VySWQgfV0sXHJcbiAgICBxdWVyeUZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZmF2UGxheWxpc3RzUmVmID0gYXdhaXQgZmJHZXREb2Moe1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBcImZhdm91cml0ZVBsYXlsaXN0c1wiLFxyXG4gICAgICAgICAgICBpZDogdXNlcklkLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgeyBwbGF5bGlzdF9pZHMgfSA9IGZhdlBsYXlsaXN0c1JlZj8uZGF0YSgpIHx8IHt9O1xyXG5cclxuICAgICAgICAgIGlmIChmYXZQbGF5bGlzdHNSZWYuZXhpc3RzKCkgJiYgcGxheWxpc3RfaWRzPy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZldGNoTXVsdGlwbGVQbGF5bGlzdHMocGxheWxpc3RfaWRzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXNlcklkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4geyBpc1BlbmRpbmcsIGlzU3VjY2VzcywgaXNFcnJvciwgaXNGZXRjaGluZywgZXJyb3IsIGRhdGEgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VMaXN0RmF2b3VyaXRlUGxheWxpc3QgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBjdXJyZW50VXNlciB9ID0gdXNlQ3VycmVudFVzZXIoKTtcclxuICBjb25zdCB7IHVzZXJJZCB9ID0gY3VycmVudFVzZXIgfHwge307XHJcblxyXG4gIGNvbnN0IHsgaXNQZW5kaW5nLCBpc1N1Y2Nlc3MsIGlzRXJyb3IsIGlzRmV0Y2hpbmcsIGVycm9yLCBkYXRhIH0gPSB1c2VRdWVyeSh7XHJcbiAgICBxdWVyeUtleTogW1wibGlzdEZhdm91cml0ZVBsYXlsaXN0c1wiLCB7IHVzZXJJZCB9XSxcclxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBmYXZQbGF5bGlzdHNSZWYgPSBhd2FpdCBmYkdldERvYyh7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IFwiZmF2b3VyaXRlUGxheWxpc3RzXCIsXHJcbiAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBjb25zdCBpZCA9IGZhdlBsYXlsaXN0c1JlZj8uaWQ7XHJcbiAgICAgICAgICBjb25zdCB7IHBsYXlsaXN0X2lkcyB9ID0gZmF2UGxheWxpc3RzUmVmPy5kYXRhKCkgfHwge307XHJcblxyXG4gICAgICAgICAgY29uc3QgZmF2b3VyaXRlcGxheWxpc3RMaXN0ID0gcGxheWxpc3RfaWRzPy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBhY2MucHVzaChPYmplY3Qua2V5cyhpdGVtKVswXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICB9LCBbXSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHsgZmF2b3VyaXRlcGxheWxpc3RMaXN0LCBmYXZvdXJpdGVwbGF5bGlzdElkOiBpZCB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXNlcklkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4geyBpc1BlbmRpbmcsIGlzU3VjY2VzcywgaXNFcnJvciwgaXNGZXRjaGluZywgZXJyb3IsIGRhdGEgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VSZW1vdmVGYXZvdXJpdGVQbGF5bGlzdCA9ICgpID0+IHtcclxuICBjb25zdCB7IGN1cnJlbnRVc2VyIH0gPSB1c2VDdXJyZW50VXNlcigpO1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBjdXJyZW50VXNlciB8fCB7fTtcclxuXHJcbiAgY29uc3QgW25vdGlmeV0gPSB1c2VOb3RpZmljYXRpb24oKTtcclxuXHJcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpO1xyXG5cclxuICBjb25zdCB7IG11dGF0ZTogcmVtb3ZlRmF2b3VyaXRlUGxheWxpc3QgfSA9IHVzZU11dGF0aW9uKHtcclxuICAgIG11dGF0aW9uRm46IGFzeW5jIChwYXJhbXMpID0+IHtcclxuICAgICAgY29uc3QgeyBwbGF5bGlzdEQsIGlkIH0gPSBwYXJhbXM7XHJcbiAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYXdhaXQgZmJVcGRhdGVEb2Moe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgcGxheWxpc3RfaWRzOiBhcnJheVJlbW92ZShwbGF5bGlzdEQpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBcImZhdm91cml0ZVBsYXlsaXN0c1wiLFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG5vdGlmeSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIlN1Y2Nlc3NcIixcclxuICAgICAgICAgICAgdmFyaWFudDogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhdm91cml0ZSBwbGF5bGlzdCByZW1vdmVkXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgbm90aWZ5KHtcclxuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcclxuICAgICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBkZWxldGluZ1wiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcclxuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoe1xyXG4gICAgICAgIHF1ZXJ5S2V5OiBbXCJsaXN0RmF2b3VyaXRlUGxheWxpc3RzXCJdLFxyXG4gICAgICB9KTtcclxuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoe1xyXG4gICAgICAgIHF1ZXJ5S2V5OiBbXCJmYXZvdXJpdGVQbGF5bGlzdHNcIl0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHsgcmVtb3ZlRmF2b3VyaXRlUGxheWxpc3QgfTtcclxufTtcclxuIl0sIm5hbWVzIjpbInVzZU5hdmlnYXRlIiwidjQiLCJ1dWlkdjQiLCJ1c2VNdXRhdGlvbiIsInVzZVF1ZXJ5IiwidXNlUXVlcnlDbGllbnQiLCJhcnJheVJlbW92ZSIsImFycmF5VW5pb24iLCJzZXJ2ZXJUaW1lc3RhbXAiLCJ1c2VDdXJyZW50VXNlciIsImVsZW1lbnRJbkFycmF5IiwiZmJTZXREb2MiLCJmYkFkZERvYyIsImZiR2V0RG9jIiwiZmJVcGRhdGVEb2MiLCJmYkRlbGV0ZURvYyIsImZiR2V0Q29sbGVjdGlvbiIsImZiQ291bnRDb2xsZWN0aW9uIiwidXBsb2FkSW1hZ2UiLCJmYkRlbGV0ZVN0b3JhZ2UiLCJ1c2VSb3V0ZXIiLCJ1c2VOb3RpZmljYXRpb24iLCJmZXRjaE11bHRpcGxlUGxheWxpc3RzIiwidXNlU2F2ZVJlY2VudFBsYXllZCIsInF1ZXJ5Q2xpZW50IiwibXV0YXRlIiwic2F2ZVJlY2VudFBsYXllZCIsIm11dGF0aW9uRm4iLCJwbGF5bGlzdCIsInVzZXJJZCIsInJlY2VudFBsYXllZFJlZiIsImNvbGxlY3Rpb24iLCJpZCIsImV4aXN0cyIsInBsYXlsaXN0X2lkcyIsImRhdGEiLCJub3RJbkFycmF5IiwicGxheWxpc3RJZHNEYXRhIiwic2xpY2UiLCJ1c2VyX2lkIiwiY3JlYXRlZF9hdCIsImVycm9yIiwiRXJyb3IiLCJvblN1Y2Nlc3MiLCJpbnZhbGlkYXRlUXVlcmllcyIsInF1ZXJ5S2V5IiwidXNlRmV0Y2hSZWNlbnRQbGF5ZWQiLCJjdXJyZW50VXNlciIsImlzUGVuZGluZyIsImlzU3VjY2VzcyIsImlzRXJyb3IiLCJpc0ZldGNoaW5nIiwicXVlcnlGbiIsInVzZUZldGNoTXlQbGF5bGlzdHMiLCJuYXZpZ2F0ZSIsIm15UGxheWxpc3RzUmVmIiwid2hlcmVRdWVyaWVzIiwib3JkZXJCeVF1ZXJpZXMiLCJkb2NzIiwibWFwIiwiaSIsInMiLCJ0b0RhdGUiLCJ1c2VDcmVhdGVNeVBsYXlsaXN0Iiwibm90aWZ5IiwiY3JlYXRlTXlQbGF5bGlzdCIsImlzQ3JlYXRpbmciLCJjb3VudE15UGxheWxpc3QiLCJkb2NSZWYiLCJkZXNjIiwidGl0bGUiLCJ0cmFja19pZHMiLCJpbWFnZV91cmwiLCJ2YXJpYW50IiwiZGVzY3JpcHRpb24iLCJ1c2VGZXRjaE15UGxheWxpc3QiLCJzaW5nbGVQbGF5bGlzdCIsInBsYXlsaXN0RGV0YWlscyIsImxlbmd0aCIsInRyYWNrcyIsInBsYXlsaXN0VHJhY2tzIiwidXNlRWRpdE15UGxheWxpc3QiLCJlZGl0TXlQbGF5bGlzdCIsImlzRWRpdGluZyIsImlzRWRpdGVkIiwidmFsdWVzIiwiZmlsZXMiLCJpbWFnZVBhdGgiLCJpbWFnZVVybCIsInBhdGhVcmwiLCJpbWFnZUZpbGUiLCJzdG9yYWdlUGF0aCIsImZpbGVOYW1lIiwiaW1hZ2VfcGF0aCIsIl8iLCJ2YXJpYWJsZXMiLCJ1c2VSZW1vdmVNeVBsYXlsaXN0IiwiZGVsZXRlTXlQbGF5bGlzdCIsImlzUmVtb3ZpbmciLCJmaWxlUGF0aCIsInVzZUFkZFRyYWNrVG9NeVBsYXlsaXN0IiwidHJhY2tEIiwiYWRkVHJhY2tSZWYiLCJ0cmFja0lkc0RhdGEiLCJ1c2VSZW1vdmVUcmFja0Zyb21NeVBsYXlsaXN0IiwiZGVsZXRlVHJhY2tGcm9tTXlQbGF5bGlzdCIsInVzZVNhdmVGYXZvdXJpdGVQbGF5bGlzdCIsInNhdmVGYXZvdXJpdGVQbGF5bGlzdCIsImZhdm91cml0ZVBsYXlsaXN0c1JlZiIsInVzZUZldGNoRmF2b3VyaXRlUGxheWxpc3QiLCJmYXZQbGF5bGlzdHNSZWYiLCJ1c2VMaXN0RmF2b3VyaXRlUGxheWxpc3QiLCJmYXZvdXJpdGVwbGF5bGlzdExpc3QiLCJyZWR1Y2UiLCJhY2MiLCJpdGVtIiwicHVzaCIsIk9iamVjdCIsImtleXMiLCJmYXZvdXJpdGVwbGF5bGlzdElkIiwidXNlUmVtb3ZlRmF2b3VyaXRlUGxheWxpc3QiLCJyZW1vdmVGYXZvdXJpdGVQbGF5bGlzdCIsInBhcmFtcyIsInBsYXlsaXN0RCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/actions/playlist.action.js\n"));

/***/ })

});